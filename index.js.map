{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '28315893-0fd806bb9dd4884845b8c425c';\nconst url = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(query) {\n  return axios(url, {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  }).then(res => res.data.hits);\n}\n","// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryImage = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n});\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n  \n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n        </a>\n\n       \n        <ul class=\"gallery-socials-list\">\n            <li class=\"gallery-social-item\"><span>Likes</span> ${likes} </li>\n            <li class=\"gallery-social-item\"> <span>Views</span> ${views} </li>\n            <li class=\"gallery-social-item\"><span>Comments</span> ${comments} </li>\n            <li class=\"gallery-social-item\"><span>Downloads</span> ${downloads} </li>\n        </ul>\n\n      </li>`\n    )\n    .join('');\n\n  galleryImage.innerHTML = markup;\n  gallery.refresh();\n}\n\nexport function clearGallery() {\n  galleryImage.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.add('loader');\n}\n\nexport function hideLoader() {\n  loader.classList.remove('loader');\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  clearGallery,\n  createGallery,\n  hideLoader,\n  showLoader,\n} from './js/render-functions';\n\nconst form = document.querySelector('.form');\n\nhideLoader();\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(evt) {\n  evt.preventDefault();\n\n  const searchValue = evt.target.elements['search-text'].value.trim();\n\n  if (!searchValue) {\n    iziToast.warning({\n      message: 'Пустий рядок',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(searchValue)\n    .then(hits => {\n      if (hits.length > 0) {\n        createGallery(hits);\n      } else {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching <br> your search query. Please try again!',\n          color: '#ef4040',\n          position: 'topRight',\n          messageColor: '#fafafb',\n        });\n      }\n    })\n    .catch(err => {\n      iziToast.error({\n        message: err.message,\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n      evt.target.reset();\n    });\n}\n"],"names":["API_KEY","url","getImagesByQuery","query","axios","res","galleryImage","loader","gallery","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","handleSubmit","evt","searchValue","iziToast","hits","err"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAM,2BAEL,SAASC,EAAiBC,EAAO,CACtC,OAAOC,EAAMH,EAAK,CAChB,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,EAAE,KAAKE,GAAOA,EAAI,KAAK,IAAI,CAC9B,CCVA,MAAMC,EAAe,SAAS,cAAc,UAAU,EAChDC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,aAAc,KAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,wCAE4BL,CAAa;AAAA,wCACbD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iEAKDC,CAAK;AAAA,kEACJC,CAAK;AAAA,oEACHC,CAAQ;AAAA,qEACPC,CAAS;AAAA;AAAA;AAAA,YAIzE,EACA,KAAK,EAAE,EAEVb,EAAa,UAAYM,EACzBJ,EAAQ,QAAO,CACjB,CAEO,SAASY,GAAe,CAC7Bd,EAAa,UAAY,EAC3B,CAEO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,OAAO,QAAQ,CAClC,CC1CA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAE3CD,IAEAC,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAK,CACzBA,EAAI,eAAc,EAElB,MAAMC,EAAcD,EAAI,OAAO,SAAS,aAAa,EAAE,MAAM,OAE7D,GAAI,CAACC,EAAa,CAChBC,EAAS,QAAQ,CACf,QAAS,eACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDP,IACAC,IAEAnB,EAAiBwB,CAAW,EACzB,KAAKE,GAAQ,CACRA,EAAK,OAAS,EAChBlB,EAAckB,CAAI,EAElBD,EAAS,KAAK,CACZ,QACE,gFACF,MAAO,UACP,SAAU,WACV,aAAc,SACxB,CAAS,CAET,CAAK,EACA,MAAME,GAAO,CACZF,EAAS,MAAM,CACb,QAASE,EAAI,QACb,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbP,IACAG,EAAI,OAAO,OACjB,CAAK,CACL"}